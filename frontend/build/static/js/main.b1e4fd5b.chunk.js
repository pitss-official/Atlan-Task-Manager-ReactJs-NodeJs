(this.webpackJsonpatlan_frontend=this.webpackJsonpatlan_frontend||[]).push([[0],{34:function(e,t){e.exports="data:image/png;base64,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"},41:function(e,t,a){e.exports=a(69)},47:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(14),s=a.n(c),r=a(9),o=a(11),i=a(10),d=(a(46),a(47),a(34)),m=a.n(d),u=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).render=function(){return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand-sm nav-bg navbar-dark justify-content-center"},l.a.createElement("img",{src:m.a,alt:""})))},e}return a}(l.a.PureComponent),p=a(17),f=a(7),h=a.n(f),v=a(16),g=a(13),k=a(39),E=function(e){return l.a.createElement("button",{className:"btn btn-control p-1 mr-1 "+e.className,title:"Stop",onClick:e.clickHandler},l.a.createElement(v.a,{icon:e.icon}),l.a.createElement("br",null),e.label)},b=a(73),A=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).url="http://localhost:8000",e.state=Object(k.a)({isValid:!0,ds:0,d:!1,curr:0},e.props.details),e.delete=function(){h.a.delete(e.url+"/task/"+e.state.id).then((function(t){e.setState({isValid:!1})})).catch((function(e){}))},e.resume=function(){h.a.put(e.url+"/task/"+e.state.id).then((function(t){e.setState({state:4})})).catch((function(e){}))},e.pause=function(){h.a.post(e.url+"/task/"+e.state.id).then((function(e){})).catch((function(e){}))},e.status=function(){h.a.get(e.url+"/task/"+e.state.id+"/status").then((function(t){e.setState({state:t.data.state,total:t.data.totalLines,curr:t.data.currentLine})}))},e.download=function(){e.setState({d:!0}),h.a.get(e.url+"/task/"+e.state.id).then((function(e){})).catch((function(e){}))},e.stopdownload=function(){h.a.get(e.url+"/task/"+e.state.id+"/download/pause").then((function(e){})).catch((function(e){}))},e.downloadStatus=function(){!0===e.state.d&&h.a.get(e.url+"/task/"+e.state.id+"/download/status").then((function(t){console.log(e.state),e.setState({ds:t.data.state})}))},e.render=function(){return e.state.isValid&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-md-12 col-lg-12"},l.a.createElement("div",{className:"card border-light"},l.a.createElement("div",{className:"card-header task-card-header"},l.a.createElement("div",{className:"float-left"},l.a.createElement("div",{className:"card-title"},l.a.createElement("span",{className:"h5"},e.props.name)))),l.a.createElement("div",{className:"card-body fadeInDown fadeOutUp"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2 col-2 col-md-2"},l.a.createElement("span",{className:"badge"},"State:"),l.a.createElement("span",{className:"badge badge-primary"},e.state.curr!==e.state.total?1===e.state.state?"Paused":0===e.state.state?"Ready":4===e.state.state?"Executing":"Stopped":"Finished")),l.a.createElement("div",{className:"col-lg-10 col-10 col-md-10"},l.a.createElement("div",{className:"card-header-pills float-right"},e.state.curr===e.state.total&&l.a.createElement(E,{icon:g.a,clickHandler:e.download,className:"btn-outline-success",label:"Export"}),e.state.curr===e.state.total&&l.a.createElement(E,{icon:g.f,clickHandler:e.stopdownload,className:"btn-outline-danger",label:"Stop"}),e.state.curr!==e.state.total&&l.a.createElement(E,{icon:g.c,clickHandler:e.resume,className:"btn-outline-primary",label:"Execute"}),e.state.curr!==e.state.total&&l.a.createElement(E,{icon:g.b,clickHandler:e.pause,className:"btn-outline-warning",label:"Pause"}),l.a.createElement(E,{icon:g.g,clickHandler:e.delete,className:"btn-outline-secondary",label:"Delete"}))))),l.a.createElement("div",{className:"card-footer"},e.state.d&&l.a.createElement("h3",null,e.url+"/download/"+e.state.file_name),l.a.createElement(b.a,{animated:e.state.curr!==e.state.total,variant:1===e.state.state?"warning":"info",now:parseInt(100*e.state.curr/e.state.total)})))))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){setInterval(this.status,500),setInterval(this.downloadStatus,1e3)}}]),a}(l.a.Component),N=a(71),w=a(72),y=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={file:null,name:void 0},e.onNameChange=function(t){e.setState({name:t.target.value})},e.onFileChange=function(t){e.setState({file:t.target.files[0]})},e.onFileUpload=function(){var t=new FormData;t.append("file",e.state.file),t.append("name",e.state.name),console.log(e.state.selectedFile),h.a.post("http://localhost:8000/task",t).then((function(t){e.props.onHide()})).catch((function(e){}))},e.render=function(){return l.a.createElement(N.a,Object.assign({},e.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(N.a.Header,{closeButton:!0},l.a.createElement(N.a.Title,{id:"contained-modal-title-vcenter"},"Add New Task")),l.a.createElement(N.a.Body,null,l.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},l.a.createElement("form",null,l.a.createElement("label",{htmlFor:"taskName"},"Enter a unique task name"),l.a.createElement("input",{value:e.state.name,onChange:e.onNameChange,required:!0,name:"taskName",className:"w-100 text-monospace",type:"text",placeholder:"Enter task name"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"fileholder"},"Select a CSV file to upload"),l.a.createElement("input",{required:!0,onChange:e.onFileChange,name:"fileholder",className:"w-100",type:"file",placeholder:"Enter task name"})))),l.a.createElement(N.a.Footer,null,l.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:e.onFileUpload},"Create"),l.a.createElement(w.a,{onClick:e.props.onHide},"Close")))},e}return a}(l.a.Component),O=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={loading:!0,taskCount:-1,tasks:[],addTaskModal:!1},e}return Object(p.a)(a,[{key:"loadData",value:function(){var e=this;h.a.get("http://localhost:8000/task").then((function(t){e.setState({loading:!1,tasks:t.data,taskCount:t.data.length})})).catch((function(t){e.setState({loading:!1,tasks:[]})}))}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentWillUpdate",value:function(e,t,a){this.state.addTaskModal!==t.addTaskModal&&this.loadData()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container-fluid mt-1"},l.a.createElement("div",{className:"row mt-1"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"float-left "},l.a.createElement("div",{className:"p-2 mt-2"},l.a.createElement("span",{className:"h5 p-2 mt-3"},"Welcome user!"))),l.a.createElement("div",{className:"float-right mt-2"},l.a.createElement("button",{onClick:function(){return e.setState({addTaskModal:!0})},className:"btn nav-bg text-capitalize text-white font-weight-bold"},l.a.createElement(v.a,{icon:g.d,className:"mr-1"}),"ADD TASK")))),l.a.createElement(y,{show:this.state.addTaskModal,onHide:function(){return e.setState({addTaskModal:!1})}}),l.a.createElement("hr",null),this.state.loading&&l.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},l.a.createElement(v.a,{icon:g.e,className:"fa-spin h3"}),l.a.createElement("span",null,"\xa0\xa0Loading")),0===this.state.taskCount&&!this.state.loading&&l.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},l.a.createElement("h6",{className:"text-info"},"No tasks available")),this.state.tasks.map((function(e){return l.a.createElement(A,{key:e.id,name:e.name,details:e,state:"ready",id:"555"})})))}}]),a}(n.Component),B=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).render=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(u,null),l.a.createElement(O,null))},e}return a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.b1e4fd5b.chunk.js.map